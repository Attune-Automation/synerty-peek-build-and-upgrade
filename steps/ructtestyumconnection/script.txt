[[ -d /rpm_mirror ]] && isRpmServer='true' || isRpmServer='false'

if ${isRpmServer}
then
    echo "This is an RPM server. Skipping the yum connectivity check."
else
    repourls=$(yum repolist -v | grep Repo-baseurl | awk  '{print $3}')
    if [ ${#repourls} == 0 ]; then
        echo "ERROR while performing yum repolist." 1>&2
        exit 1
    fi
    for repourl in $repourls
    do
        echo $repourl
        curl --dump-header - $repourl -o /dev/null
    done
fi